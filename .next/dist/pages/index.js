'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _regenerator = require('babel-runtime/regenerator');

var _regenerator2 = _interopRequireDefault(_regenerator);

var _promise = require('babel-runtime/core-js/promise');

var _promise2 = _interopRequireDefault(_promise);

var _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = require('babel-runtime/helpers/createClass');

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = require('babel-runtime/helpers/inherits');

var _inherits3 = _interopRequireDefault(_inherits2);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _semanticUiReact = require('semantic-ui-react');

var _factory = require('../ethereum/factory');

var _factory2 = _interopRequireDefault(_factory);

var _Layout = require('../components/Layout');

var _Layout2 = _interopRequireDefault(_Layout);

var _routes = require('../routes');

var _campaign = require('../ethereum/campaign');

var _campaign2 = _interopRequireDefault(_campaign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _jsxFileName = '/Users/vittori/Desktop/Projects/biots/ETH/EthereumCasts/VotingApp/pages/index.js?entry';


var CampaignIndex = function (_Component) {
    (0, _inherits3.default)(CampaignIndex, _Component);

    function CampaignIndex() {
        (0, _classCallCheck3.default)(this, CampaignIndex);

        return (0, _possibleConstructorReturn3.default)(this, (CampaignIndex.__proto__ || (0, _getPrototypeOf2.default)(CampaignIndex)).apply(this, arguments));
    }

    (0, _createClass3.default)(CampaignIndex, [{
        key: 'renderCampaigns',
        value: function renderCampaigns() {
            var items = this.props.results.map(function (_ref) {
                var description = _ref.description,
                    address = _ref.address,
                    question = _ref.question;

                return {
                    header: description + ": " + question,
                    description: _react2.default.createElement(_react2.default.Fragment, {
                        __source: {
                            fileName: _jsxFileName,
                            lineNumber: 35
                        }
                    }, _react2.default.createElement(_routes.Link, { route: '/campaigns/' + address, __source: {
                            fileName: _jsxFileName,
                            lineNumber: 36
                        }
                    }, _react2.default.createElement('a', {
                        __source: {
                            fileName: _jsxFileName,
                            lineNumber: 38
                        }
                    }, 'View poll')), _react2.default.createElement(_routes.Link, { route: '/' + address, __source: {
                            fileName: _jsxFileName,
                            lineNumber: 40
                        }
                    }, _react2.default.createElement(_semanticUiReact.Button, {
                        floated: 'right',
                        content: 'Vote',
                        icon: 'hand pointer',
                        positive: true,
                        __source: {
                            fileName: _jsxFileName,
                            lineNumber: 41
                        }
                    }))),
                    fluid: true
                };
            });

            return _react2.default.createElement(_semanticUiReact.Card.Group, { items: items, __source: {
                    fileName: _jsxFileName,
                    lineNumber: 54
                }
            });
        }
    }, {
        key: 'render',
        value: function render() {
            console.log(this.props.results);
            return _react2.default.createElement(_Layout2.default, {
                __source: {
                    fileName: _jsxFileName,
                    lineNumber: 60
                }
            }, _react2.default.createElement('div', {
                __source: {
                    fileName: _jsxFileName,
                    lineNumber: 61
                }
            }, _react2.default.createElement('h3', {
                __source: {
                    fileName: _jsxFileName,
                    lineNumber: 62
                }
            }, 'Open Polls'), _react2.default.createElement(_routes.Link, { route: '/campaigns/new', __source: {
                    fileName: _jsxFileName,
                    lineNumber: 64
                }
            }, _react2.default.createElement('a', {
                __source: {
                    fileName: _jsxFileName,
                    lineNumber: 65
                }
            }, _react2.default.createElement(_semanticUiReact.Button, {
                floated: 'right',
                content: 'Create Poll',
                icon: 'hand spock',
                primary: true,
                __source: {
                    fileName: _jsxFileName,
                    lineNumber: 66
                }
            }))), this.renderCampaigns()));
        }
    }], [{
        key: 'getInitialProps',
        value: function () {
            var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2() {
                var _this2 = this;

                var campaigns, results;
                return _regenerator2.default.wrap(function _callee2$(_context2) {
                    while (1) {
                        switch (_context2.prev = _context2.next) {
                            case 0:
                                _context2.next = 2;
                                return _factory2.default.methods.getDeployedCampaigns().call();

                            case 2:
                                campaigns = _context2.sent;
                                _context2.next = 5;
                                return _promise2.default.all(campaigns.map(function () {
                                    var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(address) {
                                        var campaign, summary;
                                        return _regenerator2.default.wrap(function _callee$(_context) {
                                            while (1) {
                                                switch (_context.prev = _context.next) {
                                                    case 0:
                                                        campaign = (0, _campaign2.default)(address);
                                                        _context.next = 3;
                                                        return campaign.methods.getSummary().call();

                                                    case 3:
                                                        summary = _context.sent;
                                                        return _context.abrupt('return', {
                                                            address: address,
                                                            description: summary[0],
                                                            question: summary[1],
                                                            balance: summary[2],
                                                            requestsCount: summary[3],
                                                            approversCount: summary[4],
                                                            manager: summary[5]
                                                        });

                                                    case 5:
                                                    case 'end':
                                                        return _context.stop();
                                                }
                                            }
                                        }, _callee, _this2);
                                    }));

                                    return function (_x) {
                                        return _ref3.apply(this, arguments);
                                    };
                                }()));

                            case 5:
                                results = _context2.sent;
                                return _context2.abrupt('return', { results: results });

                            case 7:
                            case 'end':
                                return _context2.stop();
                        }
                    }
                }, _callee2, this);
            }));

            function getInitialProps() {
                return _ref2.apply(this, arguments);
            }

            return getInitialProps;
        }()
    }]);

    return CampaignIndex;
}(_react.Component);

exports.default = CampaignIndex;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVua25vd24iXSwibmFtZXMiOlsiX2pzeEZpbGVOYW1lIiwiQ2FtcGFpZ25JbmRleCIsIl9Db21wb25lbnQiLCJfX3Byb3RvX18iLCJhcHBseSIsImFyZ3VtZW50cyIsImtleSIsInZhbHVlIiwicmVuZGVyQ2FtcGFpZ25zIiwiaXRlbXMiLCJwcm9wcyIsInJlc3VsdHMiLCJtYXAiLCJfcmVmIiwiZGVzY3JpcHRpb24iLCJhZGRyZXNzIiwicXVlc3Rpb24iLCJoZWFkZXIiLCJjcmVhdGVFbGVtZW50IiwiRnJhZ21lbnQiLCJfX3NvdXJjZSIsImZpbGVOYW1lIiwibGluZU51bWJlciIsInJvdXRlIiwiZmxvYXRlZCIsImNvbnRlbnQiLCJpY29uIiwicG9zaXRpdmUiLCJmbHVpZCIsIkdyb3VwIiwicmVuZGVyIiwiY29uc29sZSIsImxvZyIsInByaW1hcnkiLCJfcmVmMiIsIm1hcmsiLCJfY2FsbGVlMiIsIl90aGlzMiIsImNhbXBhaWducyIsIndyYXAiLCJfY2FsbGVlMiQiLCJfY29udGV4dDIiLCJwcmV2IiwibmV4dCIsIm1ldGhvZHMiLCJnZXREZXBsb3llZENhbXBhaWducyIsImNhbGwiLCJzZW50IiwiYWxsIiwiX3JlZjMiLCJfY2FsbGVlIiwiY2FtcGFpZ24iLCJzdW1tYXJ5IiwiX2NhbGxlZSQiLCJfY29udGV4dCIsImdldFN1bW1hcnkiLCJhYnJ1cHQiLCJiYWxhbmNlIiwicmVxdWVzdHNDb3VudCIsImFwcHJvdmVyc0NvdW50IiwibWFuYWdlciIsInN0b3AiLCJfeCIsImdldEluaXRpYWxQcm9wcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUVBOzs7O0FBQ0E7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOztBQUNBOzs7Ozs7QUFOQSxJQUFJQSxlQUFlLHdGQUFuQjs7O0FBUUEsSUFBSUMsZ0JBQWdCLFVBQVVDLFVBQVYsRUFBc0I7QUFDdEMs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QVVNLElBQXBCO0FBQ0EsdUNBQU9OLFVBQVVlLE1BQVYsQ0FBaUIsUUFBakIsRUFBMkIsRUFBRTdDLFNBQVNBLE9BQVgsRUFBM0IsQ0FBUDs7QUFFSixpQ0FBSyxDQUFMO0FBQ0EsaUNBQUssS0FBTDtBQUNJLHVDQUFPOEIsVUFBVW9CLElBQVYsRUFBUDtBQWxEUjtBQW9ESDtBQUNKLGlCQXZETSxFQXVESnpCLFFBdkRJLEVBdURNLElBdkROLENBQVA7QUF3REgsYUE1RDJDLENBQWhDLENBQVo7O0FBOERBLHFCQUFTMkIsZUFBVCxHQUEyQjtBQUN2Qix1QkFBTzdCLE1BQU05QixLQUFOLENBQVksSUFBWixFQUFrQkMsU0FBbEIsQ0FBUDtBQUNIOztBQUVELG1CQUFPMEQsZUFBUDtBQUNILFNBcEVNO0FBRk4sS0FBRCxDQTlISjs7QUF1TUEsV0FBTzlELGFBQVA7QUFDSCxDQWpObUIsa0JBQXBCOztrQkFtTmVBLGEiLCJmaWxlIjoidW5rbm93biIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gJ2JhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3InO1xuaW1wb3J0IF9Qcm9taXNlIGZyb20gJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlJztcbmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvcic7XG5pbXBvcnQgX09iamVjdCRnZXRQcm90b3R5cGVPZiBmcm9tICdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfanN4RmlsZU5hbWUgPSAnL1VzZXJzL3ZpdHRvcmkvRGVza3RvcC9Qcm9qZWN0cy9iaW90cy9FVEgvRXRoZXJldW1DYXN0cy9Wb3RpbmdBcHAvcGFnZXMvaW5kZXguanM/ZW50cnknO1xuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENhcmQsIEJ1dHRvbiB9IGZyb20gJ3NlbWFudGljLXVpLXJlYWN0JztcbmltcG9ydCBmYWN0b3J5IGZyb20gJy4uL2V0aGVyZXVtL2ZhY3RvcnknO1xuaW1wb3J0IExheW91dCBmcm9tICcuLi9jb21wb25lbnRzL0xheW91dCc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAnLi4vcm91dGVzJztcbmltcG9ydCBDYW1wYWlnbiBmcm9tICcuLi9ldGhlcmV1bS9jYW1wYWlnbic7XG5cbnZhciBDYW1wYWlnbkluZGV4ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoQ2FtcGFpZ25JbmRleCwgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBDYW1wYWlnbkluZGV4KCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2FtcGFpZ25JbmRleCk7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDYW1wYWlnbkluZGV4Ll9fcHJvdG9fXyB8fCBfT2JqZWN0JGdldFByb3RvdHlwZU9mKENhbXBhaWduSW5kZXgpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ2FtcGFpZ25JbmRleCwgW3tcbiAgICAgICAga2V5OiAncmVuZGVyQ2FtcGFpZ25zJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckNhbXBhaWducygpIHtcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IHRoaXMucHJvcHMucmVzdWx0cy5tYXAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVzY3JpcHRpb24gPSBfcmVmLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzID0gX3JlZi5hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBxdWVzdGlvbiA9IF9yZWYucXVlc3Rpb247XG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IGRlc2NyaXB0aW9uICsgXCI6IFwiICsgcXVlc3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuRnJhZ21lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX19zb3VyY2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZU51bWJlcjogMzVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMaW5rLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgcm91dGU6ICcvY2FtcGFpZ25zLycgKyBhZGRyZXNzLCBfX3NvdXJjZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVOdW1iZXI6IDM2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19zb3VyY2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVOdW1iZXI6IDM4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdWaWV3IHBvbGwnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTGluayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHJvdXRlOiAnLycgKyBhZGRyZXNzLCBfX3NvdXJjZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVOdW1iZXI6IDQwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0ZWQ6ICdyaWdodCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICdWb3RlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ2hhbmQgcG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX3NvdXJjZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVOdW1iZXI6IDQxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBmbHVpZDogdHJ1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FyZC5Hcm91cCwgeyBpdGVtczogaXRlbXMsIF9fc291cmNlOiB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVOdW1iZXI6IDU0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnByb3BzLnJlc3VsdHMpO1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgTGF5b3V0LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgX19zb3VyY2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lTnVtYmVyOiA2MFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgX19zb3VyY2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVOdW1iZXI6IDYxXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAnaDMnLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fc291cmNlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVOdW1iZXI6IDYyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdPcGVuIFBvbGxzJ1xuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgTGluayxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcm91dGU6ICcvY2FtcGFpZ25zL25ldycsIF9fc291cmNlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVOdW1iZXI6IDY0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2EnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19zb3VyY2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lTnVtYmVyOiA2NVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9hdGVkOiAncmlnaHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAnQ3JlYXRlIFBvbGwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnaGFuZCBzcG9jaycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fc291cmNlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZU51bWJlcjogNjZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyQ2FtcGFpZ25zKClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0sIFt7XG4gICAgICAgIGtleTogJ2dldEluaXRpYWxQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHZhciBjYW1wYWlnbnMsIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhY3RvcnkubWV0aG9kcy5nZXREZXBsb3llZENhbXBhaWducygpLmNhbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FtcGFpZ25zID0gX2NvbnRleHQyLnNlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9Qcm9taXNlLmFsbChjYW1wYWlnbnMubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoYWRkcmVzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYW1wYWlnbiwgc3VtbWFyeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW1wYWlnbiA9IENhbXBhaWduKGFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbXBhaWduLm1ldGhvZHMuZ2V0U3VtbWFyeSgpLmNhbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeSA9IF9jb250ZXh0LnNlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoJ3JldHVybicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogc3VtbWFyeVswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uOiBzdW1tYXJ5WzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFsYW5jZTogc3VtbWFyeVsyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RzQ291bnQ6IHN1bW1hcnlbM10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHByb3ZlcnNDb3VudDogc3VtbWFyeVs0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbmFnZXI6IHN1bW1hcnlbNV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZW5kJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUsIF90aGlzMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0oKSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzID0gX2NvbnRleHQyLnNlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCdyZXR1cm4nLCB7IHJlc3VsdHM6IHJlc3VsdHMgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZW5kJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7XG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEluaXRpYWxQcm9wcygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGdldEluaXRpYWxQcm9wcztcbiAgICAgICAgfSgpXG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENhbXBhaWduSW5kZXg7XG59KENvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IENhbXBhaWduSW5kZXg7Il19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVua25vd24iXSwibmFtZXMiOlsiX2pzeEZpbGVOYW1lIiwiQ2FtcGFpZ25JbmRleCIsIl9Db21wb25lbnQiLCJfX3Byb3RvX18iLCJhcHBseSIsImFyZ3VtZW50cyIsImtleSIsInZhbHVlIiwicmVuZGVyQ2FtcGFpZ25zIiwiaXRlbXMiLCJwcm9wcyIsInJlc3VsdHMiLCJtYXAiLCJfcmVmIiwiZGVzY3JpcHRpb24iLCJhZGRyZXNzIiwicXVlc3Rpb24iLCJoZWFkZXIiLCJjcmVhdGVFbGVtZW50IiwiRnJhZ21lbnQiLCJfX3NvdXJjZSIsImZpbGVOYW1lIiwibGluZU51bWJlciIsInJvdXRlIiwiZmxvYXRlZCIsImNvbnRlbnQiLCJpY29uIiwicG9zaXRpdmUiLCJmbHVpZCIsIkdyb3VwIiwicmVuZGVyIiwiY29uc29sZSIsImxvZyIsInByaW1hcnkiLCJfcmVmMiIsIm1hcmsiLCJfY2FsbGVlMiIsIl90aGlzMiIsImNhbXBhaWducyIsIndyYXAiLCJfY2FsbGVlMiQiLCJfY29udGV4dDIiLCJwcmV2IiwibmV4dCIsIm1ldGhvZHMiLCJnZXREZXBsb3llZENhbXBhaWducyIsImNhbGwiLCJzZW50IiwiYWxsIiwiX3JlZjMiLCJfY2FsbGVlIiwiY2FtcGFpZ24iLCJzdW1tYXJ5IiwiX2NhbGxlZSQiLCJfY29udGV4dCIsImdldFN1bW1hcnkiLCJhYnJ1cHQiLCJiYWxhbmNlIiwicmVxdWVzdHNDb3VudCIsImFwcHJvdmVyc0NvdW50IiwibWFuYWdlciIsInN0b3AiLCJfeCIsImdldEluaXRpYWxQcm9wcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUVBOzs7O0FBQ0E7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOztBQUNBOzs7Ozs7QUFOQSxJQUFJQSxlQUFlLHdGQUFuQjs7O0FBUUEsSUFBSUMsZ0JBQWdCLFVBQVVDLFVBQVYsRUFBc0I7QUFDdEMs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